{% load static %}
<!DOCTYPE HTML>
<html>
    <head>
        <script src="{% static 'formfields/js/jquery-3.5.1.min.js' %}"></script>
        {{ media.js }}
        {{ media.css }}
        <script>

document.addEventListener('DOMContentLoaded', event => {
    var widgetData = JSON.parse(document.body.dataset.widgets);
    widgets = [];
    for (name in widgetData) {
        widgets[name] = telepath.unpack(widgetData[name]);
    }
    var div;

    div = document.createElement('div');
    document.body.appendChild(div);
    widgets.title.render(div, 'title', 'id_title').setState("Matthew");

    div = document.createElement('div');
    document.body.appendChild(div);
    widgets.description.render(div, 'description', 'id_description').setState("just this guy, y'know?");

    div = document.createElement('div');
    document.body.appendChild(div);
    widgets.office.render(div, 'office', 'id_office').setState("charlbury");
});

        </script>
    </head>
    <body data-widgets="{{ widgets }}">
    </body>
</html>
